<!DOCTYPE html>
<html lang="en">

<!-- Head tag -->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="google-site-verification" content="xBT4GhYoi5qRD5tr338pgPM5OWHHIDR6mNg1a3euekI" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="keyword"  content="">
    <link rel="shortcut icon" href="/blog/img/ironman-draw.png">
    <!-- Place this tag in your head or just before your close body tag. -->
    <script async defer src="https://buttons.github.io/buttons.js"></script>
    <title>
        
          Pi+NodeRed =  A lot of fun and less code! - Luigi&#39;s Dev Corner
        
    </title>

    <link rel="canonical" href="http://www.luigibifulco.it/blog/blog/2017/04/08/Pi-NodeRed-A-lot-of-fun-and-less-code/">

    <!-- Bootstrap Core CSS -->
    <link rel="stylesheet" href="/blog/css/bootstrap.min.css">

    <!-- Custom CSS --> 
    <link rel="stylesheet" href="/blog/css/beantech.min.css">
    
    <!-- Pygments Highlight CSS -->
    <link rel="stylesheet" href="/blog/css/highlight.css">

    <link rel="stylesheet" href="/blog/css/widget.css">

    <link rel="stylesheet" href="/blog/css/rocket.css">

    <link rel="stylesheet" href="/blog/css/signature.css">

    <link rel="stylesheet" href="/blog/css/toc.css">

    <!-- Custom Fonts -->
    <!-- <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet" type="text/css"> -->
    <!-- Hux change font-awesome CDN to qiniu -->
    <link href="https://cdn.staticfile.org/font-awesome/4.5.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">


    <!-- Hux Delete, sad but pending in China
    <link href='http://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/
    css'>
    -->


    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- ga & ba script hoook -->
    <script></script>
</head>


<!-- hack iOS CSS :active style -->
<body ontouchstart="">
	<!-- Modified by Yu-Hsuan Yen -->
<!-- Post Header -->
<style type="text/css">
    header.intro-header{
        
            background-image: url('undefined')
            /*post*/
        
    }
    
    #signature{
        background-image: url('/blog/img/signature/BeanTechSign-white.png');
    }
    
</style>

<header class="intro-header" >
    <!-- Signature -->
    <div id="signature">
        <div class="container">
            <div class="row">
                <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                
                    <div class="post-heading">
                        <div class="tags">
                            
                        </div>
                        <h1>Pi+NodeRed =  A lot of fun and less code!</h1>
                        <h2 class="subheading"></h2>
                        <span class="meta">
                            Posted by Luigi Bifulco on
                            2017-04-08
                        </span>
                    </div>
                


                </div>
            </div>
        </div>
    </div>
</header>

	
    <!-- Navigation -->
<nav class="navbar navbar-default navbar-custom navbar-fixed-top">
    <div class="container-fluid">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header page-scroll">
            <button type="button" class="navbar-toggle">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/blog/">Luigi&#39;s Dev Corner</a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <!-- Known Issue, found by Hux:
            <nav>'s height woule be hold on by its content.
            so, when navbar scale out, the <nav> will cover tags.
            also mask any touch event of tags, unfortunately.
        -->
        <div id="huxblog_navbar">
            <div class="navbar-collapse">
                <ul class="nav navbar-nav navbar-right">
                    <li>
                        <a href="/blog/">Home</a>
                    </li>

                    

                        
                    

                        
                        <li>
                            <a href="/blog/about/">About</a>
                        </li>
                        
                    

                        
                        <li>
                            <a href="/blog/archive/">Archives</a>
                        </li>
                        
                    

                        
                        <li>
                            <a href="/blog/tags/">Tags</a>
                        </li>
                        
                    
                    
                </ul>
            </div>
        </div>
        <!-- /.navbar-collapse -->
    </div>
    <!-- /.container -->
</nav>
<script>
    // Drop Bootstarp low-performance Navbar
    // Use customize navbar with high-quality material design animation
    // in high-perf jank-free CSS3 implementation
    var $body   = document.body;
    var $toggle = document.querySelector('.navbar-toggle');
    var $navbar = document.querySelector('#huxblog_navbar');
    var $collapse = document.querySelector('.navbar-collapse');

    $toggle.addEventListener('click', handleMagic)
    function handleMagic(e){
        if ($navbar.className.indexOf('in') > 0) {
        // CLOSE
            $navbar.className = " ";
            // wait until animation end.
            setTimeout(function(){
                // prevent frequently toggle
                if($navbar.className.indexOf('in') < 0) {
                    $collapse.style.height = "0px"
                }
            },400)
        }else{
        // OPEN
            $collapse.style.height = "auto"
            $navbar.className += " in";
        }
    }
</script>


    <!-- Main Content -->
    <!-- Modify by Yu-Hsuan Yen -->

<!-- Post Content -->
<article>
    <div class="container">
        <div class="row">

            <!-- Post Container -->
            <div class="
                col-lg-8 col-lg-offset-2
                col-md-10 col-md-offset-1
                post-container">

                <p>Let’s start from beginning. Some days ago, thanks to a my friend, i discovered the <a href="http://nodered.org/" target="_blank" rel="external">Node-RED project</a>. A great visual tool for wiring IoT devices, and integrate them with API and services.</p>
<p>Another thing very nice is that you can install Node-RED on a RaspberryPi, and wire a lot of nodes. Yes Node-RED has a visual block tools and the blocks are nodes and its built on node.js, so prepare to be confused with all these nodes :).  You can wire input nodes with output nodes and put between them functions node, switch nodes and many other useful nodes. There are a lot of core nodes shipped with basic Node-RED distribution.</p>
<p>I just have a RaspberryPi and i wrote a library for the Nunchuck controller in Java, so Node-RED it’s a great chance for me to make a porting of the code in Javascript in an elegant way. With Node-RED i have to simply design my library as a set of nodes. Next, i will share with you how i you can use a Node-RED node for a nunchuck controller wired with a RaspberryPi,</p>
<h3 id="what-we-need">What we need:</h3>
<ul>
<li>a Raspberry Pi Model B Revision 2.0 (512MB)*   The latest Raspbian image installed (Jessie while i wrote these lines)</li>
<li>A cheap Nunchuck controller</li>
<li>An I2C adapter (or similar wiring)</li>
<li>A node.js installation</li>
<li>A Node-RED installation</li>
<li>The node-red-contrib-nunchuck module</li>
<li>A lot of patience</li>
</ul>
<p>For the Raspberry and a Nunchuck it is a commonplace to say that you have to buy them. But don’t worry, the entire bundle does not cost too much.</p>
<p>If you just have a Raspberry i suggest to upgrade to Raspbian Jessie so you can install a newer version of Node.Js. Furthermore, it comes with a lot of updated packages, one of them is gcc 4 that it’s very important to compile some modules we need.</p>
<h3 id="wiring-the-nunchuck-on-the-pi">Wiring the nunchuck on the Pi</h3>
<p>The nunchuck controller  sends data over an I2C bus. There is a lot of documentation about the I2C protocol, because since October 10,  2006 <a href="http://www.nxp.com/documents/application_note/AN10216.pdf" target="_blank" rel="external">no licensing fees are required</a> to implement the I²C protocol. So the first thing we have to do is to wire the controller pins to the GPIO pins with the RaspberryPi board. There a lot of guides to do the hard work, i used <a href="http://pi4j.com/pins/model-b-rev2.html" target="_blank" rel="external">this doc</a> to understand the basic things, the interesting part for our purpose is to identify the pins for the I2C interface as shown in the image below:</p>
<figure>![p1-pins](http://luigibifulco.it/blog/content/blog/16-raspberrypi-nunchuck-nodered-a-lot-of-fun/p1-pins.png)</figure>
<p>If you have all well done, you should see wired pins as the image below:</p>
<figure>![pi-i2c1](http://luigibifulco.it/blog/content/blog/16-raspberrypi-nunchuck-nodered-a-lot-of-fun/pi-i2c1.jpg)</figure>
<p>On the other side and if you won’t break the nunchuck you can use a simple adapter, i bought the <a href="https://www.olimex.com/Products/Modules/Sensors/MOD-WII/MOD-Wii-ICSP-NUNCHUCK/open-source-hardware" target="_blank" rel="external">mod-wii-icsp-nunchuck</a> but you can use the <a href="https://www.sparkfun.com/products/9281" target="_blank" rel="external">WiiChuck</a> too, the basic difference is that  the second comes without pins. So i wired the pins on the ICSP adapter and this is the result:</p>
<figure>![pi-i2c2](http://luigibifulco.it/blog/content/blog/16-raspberrypi-nunchuck-nodered-a-lot-of-fun/pi-i2c2.jpg)</figure>
<h3 id="configuring-i2c-on-the-raspberry">Configuring I2C on the Raspberry</h3>
<p>If you have Jessie installed on your Raspberry you don’t have to do much work because I2C driver and kernel modules are just installed and ready to use. The only thing you have to check if your /boot/config.txt file has the correct parameters setted. Or simply use the raspi-config to enable I2C under “Advanced Options”.</p>
<p>To manual enable I2C add the following line to /boot/config.txt:</p>
<pre><code>dtparam=i2c_arm=on`&lt;/pre&gt;

The default I2C baudrate is 100000\. You can modify using this line of code:

&lt;pre&gt;`dtparam=i2c_arm_baudrate=400000`&lt;/pre&gt;

If you have modified your config.txt file you have to REBOOT the RaspberryPi. Now you can check that it's ok.

### Test data reading from Nunchuck

Install the i2ctools and i2cdev libraries on your system:

&lt;pre&gt;`sudo apt-get update
sudo apt-get install i2ctools libi2c-dev`&lt;/pre&gt;

Keep wired the nunchuck controller with the raspberry and launch to i2cdetect command:

&lt;pre&gt;`i2cdetect -y 1`&lt;/pre&gt;

you should see an output similar to this shown below, if so your nunchuck controller is  correctly wired with your PiBoard and now we can capture data from it using Node-RED:

&lt;figure&gt;![i2cdetect_output](http://luigibifulco.it/blog/content/blog/16-raspberrypi-nunchuck-nodered-a-lot-of-fun/i2cdetect_output.png)&lt;/figure&gt;

### Installing Node.js, NPM and Node-RED

The official Node-RED site project provides a detailed documentation and there is a [section](http://nodered.org/docs/hardware/raspberrypi.html) dedicated to the Raspberry PI.

With Jessie distribution Node-RED comes preinstalled on the system but the bad news is that there is an older version of Node.Js and some modules are incompatible. I suggest to remove the default Node-RED installation and to upgrade to newer versione of node.js.  First of all remove all node dependencies:

&lt;pre&gt;`sudo apt-get remove nodered
sudo apt-get remove nodejs nodejs-legacy
sudo apt-get remove npm   `&lt;/pre&gt;

then you can install new dependencies:

&lt;pre&gt;`wget http://node-arm.herokuapp.com/node_archive_armhf.deb
sudo dpkg -i node_archive_armhf.deb
sudo apt-get install build-essential python-dev python-rpi.gpio`&lt;/pre&gt;

if you don't have npm installed you can install it from Jessie repository:

&lt;pre&gt;`sudo apt-get install npm`&lt;/pre&gt;

and then you can install node-red directly from npm:

&lt;pre&gt;`sudo npm install -g --unsafe-perm  node-red`&lt;/pre&gt;

To start Node-RED you can launch this command from shell:

&lt;pre&gt;`node-red-pi --max-old-space-size=128`&lt;/pre&gt;

a server was spawned on port 1880 and you can use it together with the core nodes of Node-RED. If you never used Node-RED you can follow [this tutorial](http://nodered.org/docs/getting-started/first-flow.html) to create your first flow. 

### Installing  the node-red-contrib-nunchuck module

Good guys. We have a RaspberryPi with a nunchuck controller wired on I2C bus interface and a working Node-RED installation, we are Node-RED flow master, so we are ready to capture controller input and create a great  &amp;quot;Nunchuck2Pi&amp;quot; flow.  :). Node-RED comes with no nodes for nunchuck so i [created one](https://www.npmjs.com/package/node-red-contrib-nunchuck). To install the nunchuck node execute these commands from shell:

&lt;pre&gt;`cd /home/pi/.node-red/
npm install node-red-contrib-nunchuck`&lt;/pre&gt;

if you have compilation errors, probably you don't have lib-dev dependencies, to install them launch:

&lt;pre&gt;`sudo apt-get update
sudo apt-get install i2ctools libi2c-dev`&lt;/pre&gt;

then you should see a node_modules directory with a node-red-contrib-nunchuck within. Restart Node-RED go to the web visual tool (http://&lt;yourPiAddress&gt;:1880/) a nunchuck node should be available in the input category. 

&lt;figure&gt;![nunchuck-node-palette](http://luigibifulco.it/blog/content/blog/16-raspberrypi-nunchuck-nodered-a-lot-of-fun/nunchuck-node-palette.png)&lt;/figure&gt;

Put the nunchuck node and configures it:

&lt;figure&gt;![nunchuck-node-config](http://luigibifulco.it/blog/content/blog/16-raspberrypi-nunchuck-nodered-a-lot-of-fun/nunchuck-node-config.png)&lt;/figure&gt;

The nunchuck node has one output, a JSON object, for debug purpose you can config the nunchuck node with a low frequency (e.g.: 1000 ms) and connect a debug node to see the object properties sent by the nunchuck node.

&lt;figure&gt;![nunchuck-first-flow](http://luigibifulco.it/blog/content/blog/16-raspberrypi-nunchuck-nodered-a-lot-of-fun/nunchuck-first-flow.png)&lt;/figure&gt;

### Creating your first flow with the nunchuck node

To create a simple nunchuck flow you have two ways: 
</code></pre>
<ul>
<li>
<p>import the flow shown below from code (copy and paste)</p>
</li>
<li>
<p>manually create your own flow</p>
<p>In any case you have to use a function node to process data and to recognize something was changed, this is because the node doesn’t matter about what changed it simply reads and decodes data from controller at the requested frequency. In future releases i’m thinking to put a config check to change this behavior, such as “send data only if something was changed”. The Node-RED nodes philosophy is to do simple things so i’m more disposed to split this nunchuck node in two nodes: the reader and the decoder :).</p>
<p>The example below shows a function node that pipe nunchuck output, recognizes stick moves from X axis and send an event.:</p>
<pre>`var xevent = msg.payload.x ;
if(context.xevent !== xevent){
 context.xevent = xevent; 
 node.send(msg);
}
return;`</pre>
<p>Put the function node between the nunchuck node and the debug node:</p>
<figure>![nunchuck-function-node](http://luigibifulco.it/blog/content/blog/16-raspberrypi-nunchuck-nodered-a-lot-of-fun/nunchuck-function-node.png)</figure>
<p>Or simply import this snippet:</p>
<pre>`[{"id":"3818fd96.c7e702","type":"function","z":"e8c028bd.173fd8","name":"processXStickData","func":"var xevent = msg.payload.x ;\nif(context.xevent !== xevent){\n context.xevent = xevent; \n node.send(msg);\n}\nreturn;","outputs":1,"noerr":0,"x":353,"y":158,"wires":[["e7a89ba0.185768"]]}]
</pre></li>
</ul>
<p>Putting all together and create your own flow!! For example I used this simple nunchuck flow to move the PTZ of my ipcam.</p>
<figure>![put-all-together](http://luigibifulco.it/blog/content/blog/16-raspberrypi-nunchuck-nodered-a-lot-of-fun/put-all-together.png)</figure>
<h3 id="conclusions">Conclusions</h3>
<p>Node-RED is a great tool and can be used on many others platforms than the Pi. The IoT world is very tricky and at the same time attractive. I think that Node-RED solves many problems to design what we have in mind and enables new IoT developers to access this fantastic world.</p>
<p>Goodbye from Luigi’s Dev Corner.</p>

                

                <hr>
                <!-- Pager -->
                <ul class="pager">
                    
                        <li class="previous">
                            <a href="/blog/2017/04/08/Windows-10-includera-un-sistema-di-package-management-stile-apt-get/" data-toggle="tooltip" data-placement="top" title="Windows 10 includerà un sistema di package management stile apt-get">&larr; Previous Post</a>
                        </li>
                    
                    
                        <li class="next">
                            <a href="/blog/2017/04/08/Realizzare-progetti-Javascript-Scalabili-Parte-1/" data-toggle="tooltip" data-placement="top" title="Realizzare progetti Javascript Scalabili: Parte 1">Next Post &rarr;</a>
                        </li>
                    
                </ul>

                <!-- duoshuo Share start -->
                
                <!-- 多说 Share end-->

                <!-- 多说评论框 start -->
                
                <!-- 多说评论框 end -->

                <!-- disqus comment start -->
                
                    <div class="comment">
                        <div id="disqus_thread" class="disqus-thread"></div>
                    </div>
                
                <!-- disqus comment end -->
            </div>
            
            <!-- Tabe of Content -->
            <!-- Table of Contents -->

                
            <!-- Sidebar Container -->
            <div class="
                col-lg-8 col-lg-offset-2
                col-md-10 col-md-offset-1
                sidebar-container">

                <!-- Featured Tags -->
                
                <section>
                    <!-- no hr -->
                    <h5><a href="/blog/tags/">FEATURED TAGS</a></h5>
                    <div class="tags">
                       
                    </div>
                </section>
                

                <!-- Friends Blog -->
                
                <hr>
                <h5>FRIENDS</h5>
                <ul class="list-inline">

                    
                        <li><a href="http://beantech.org" target="_blank">Bean Tech</a></li>
                    
                        <li><a href="http://blog.kaijun.rocks" target="_blank">Kaijun&#39;s Blog</a></li>
                    
                        <li><a href="http://huangxuan.me" target="_blank">Hux Blog</a></li>
                    
                        <li><a href="#" target="_blank">It Helps SEO</a></li>
                    
                </ul>
                
            </div>
        </div>
    </div>
</article>




<!-- disqus embedded js code start (one page only need to embed once) -->
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES * * */
    var disqus_shortname = "luigisdevcorner";
    var disqus_identifier = "http://www.luigibifulco.it/blog/2017/04/08/Pi-NodeRed-A-lot-of-fun-and-less-code/";
    var disqus_url = "http://www.luigibifulco.it/blog/2017/04/08/Pi-NodeRed-A-lot-of-fun-and-less-code/";

    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<!-- disqus embedded js code start end -->




<!-- async load function -->
<script>
    function async(u, c) {
      var d = document, t = 'script',
          o = d.createElement(t),
          s = d.getElementsByTagName(t)[0];
      o.src = u;
      if (c) { o.addEventListener('load', function (e) { c(null, e); }, false); }
      s.parentNode.insertBefore(o, s);
    }
</script>
<!-- anchor-js, Doc:http://bryanbraun.github.io/anchorjs/ -->
<script>
    async("https://cdn.bootcss.com/anchor-js/1.1.1/anchor.min.js",function(){
        anchors.options = {
          visible: 'hover',
          placement: 'left',
          icon: 'ℬ'
        };
        anchors.add().remove('.intro-header h1').remove('.subheading').remove('.sidebar-container h5');
    })
</script>
<style>
    /* place left on bigger screen */
    @media all and (min-width: 800px) {
        .anchorjs-link{
            position: absolute;
            left: -0.75em;
            font-size: 1.1em;
            margin-top : -0.1em;
        }
    }
</style>



    <!-- Footer -->
    <!-- Footer -->
<footer>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <ul class="list-inline text-center">
                
                    <li>
                        <a href="/blog/feed.xml">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-rss fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                
                
                

                

                
                    <li>
                        <a target="_blank" href="https://www.facebook.com/Luigi Bifulco">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-facebook fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                

                
                    <li>
                        <a target="_blank"  href="https://github.com/bifulcoluigi@gmail.com">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-github fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                

                
                    <li>
                        <a target="_blank"  href="https://www.linkedin.com/in/Luigi Bifulco">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-linkedin fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                

                </ul>
                <p class="copyright text-muted">
                    Copyright &copy; Luigi Bifulco 2017 
                    <br>
                    Theme by <a href="http://huangxuan.me">Hux</a> 
                    <span style="display: inline-block; margin: 0 5px;">
                        <i class="fa fa-heart"></i>
                    </span> 
                    re-Ported by <a href="http://beantech.org">BeanTech</a> | 
                    <iframe
                        style="margin-left: 2px; margin-bottom:-5px;"
                        frameborder="0" scrolling="0" width="91px" height="20px"
                        src="https://ghbtns.com/github-btn.html?user=YenYuHsuan&repo=hexo-theme-beantech&type=star&count=true" >
                    </iframe>
                </p>
            </div>
        </div>
    </div>
</footer>

<!-- jQuery -->
<script src="/blog/js/jquery.min.js"></script>

<!-- Bootstrap Core JavaScript -->
<script src="/blog/js/bootstrap.min.js"></script>

<!-- Custom Theme JavaScript -->
<script src="/blog/js/hux-blog.min.js"></script>


<!-- async load function -->
<script>
    function async(u, c) {
      var d = document, t = 'script',
          o = d.createElement(t),
          s = d.getElementsByTagName(t)[0];
      o.src = u;
      if (c) { o.addEventListener('load', function (e) { c(null, e); }, false); }
      s.parentNode.insertBefore(o, s);
    }
</script>

<!-- 
     Because of the native support for backtick-style fenced code blocks 
     right within the Markdown is landed in Github Pages, 
     From V1.6, There is no need for Highlight.js, 
     so Huxblog drops it officially.

     - https://github.com/blog/2100-github-pages-now-faster-and-simpler-with-jekyll-3-0  
     - https://help.github.com/articles/creating-and-highlighting-code-blocks/    
-->
<!--
    <script>
        async("http://cdn.bootcss.com/highlight.js/8.6/highlight.min.js", function(){
            hljs.initHighlightingOnLoad();
        })
    </script>
    <link href="http://cdn.bootcss.com/highlight.js/8.6/styles/github.min.css" rel="stylesheet">
-->


<!-- jquery.tagcloud.js -->
<script>
    // only load tagcloud.js in tag.html
    if($('#tag_cloud').length !== 0){
        async("http://www.luigibifulco.it/blog/blog/js/jquery.tagcloud.js",function(){
            $.fn.tagcloud.defaults = {
                //size: {start: 1, end: 1, unit: 'em'},
                color: {start: '#bbbbee', end: '#0085a1'},
            };
            $('#tag_cloud a').tagcloud();
        })
    }
</script>

<!--fastClick.js -->
<script>
    async("https://cdn.bootcss.com/fastclick/1.0.6/fastclick.min.js", function(){
        var $nav = document.querySelector("nav");
        if($nav) FastClick.attach($nav);
    })
</script>


<!-- Google Analytics -->


<script>
    // dynamic User by Hux
    var _gaId = 'UA-XXXXXXXX-X';
    var _gaDomain = 'yoursite';

    // Originial
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', _gaId, _gaDomain);
    ga('send', 'pageview');
</script>




<!-- Baidu Tongji -->






	<a id="rocket" href="#top" class=""></a>
	<script type="text/javascript" src="/js/totop.js?v=1.0.0" async=""></script>
    <script type="text/javascript" src="/js/toc.js?v=1.0.0" async=""></script>
<!-- Image to hack wechat -->
<img src="http://www.luigibifulco.it/blog/blog/img/icon_wechat.png" width="0" height="0" />
<!-- Migrate from head to bottom, no longer block render and still work -->

</body>

</html>
